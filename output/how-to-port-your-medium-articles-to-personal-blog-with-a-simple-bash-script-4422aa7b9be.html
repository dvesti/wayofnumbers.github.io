<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Michael Li" />

        <meta name="description" content="How to Port Your Medium Articles to Personal Blog with a Simple Bash Script
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Machine Learning, Artificial Intelligence, Machine Learning, " />

<meta property="og:title" content="How to Port Your Medium Articles to Personal Blog with a Simple Bash Script  - ‘Quick and Dirty’ Blogging Automation "/>
<meta property="og:url" content="https://wayofnumbers.com/how-to-port-your-medium-articles-to-personal-blog-with-a-simple-bash-script-4422aa7b9be" />
<meta property="og:description" content="How to Port Your Medium Articles to Personal Blog with a Simple Bash Script" />
<meta property="og:site_name" content="Way of Numbers" />
<meta property="og:article:author" content="Michael Li" />
<meta property="og:article:published_time" content="2020-02-01T20:17:31-06:00" />
<meta name="twitter:title" content="How to Port Your Medium Articles to Personal Blog with a Simple Bash Script  - ‘Quick and Dirty’ Blogging Automation ">
<meta name="twitter:description" content="How to Port Your Medium Articles to Personal Blog with a Simple Bash Script">
<meta property="og:image" content="/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="/theme/images/apple-touch-icon-152x152.png" >

        <title>How to Port Your Medium Articles to Personal Blog with a Simple Bash Script  - ‘Quick and Dirty’ Blogging Automation  · Way of Numbers
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://wayofnumbers.com/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://wayofnumbers.com/theme/css/custom.css" media="screen">

        <link rel="shortcut icon" href="https://wayofnumbers.com/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="https://wayofnumbers.com/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="https://wayofnumbers.com/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://wayofnumbers.com/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://wayofnumbers.com/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="https://wayofnumbers.com/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://wayofnumbers.com/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="https://wayofnumbers.com/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://wayofnumbers.com/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://wayofnumbers.com/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://wayofnumbers.com/theme/images/apple-touch-icon-180x180.png" type="image/png" />
        <link href="https://wayofnumbers.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Way of Numbers - Full Atom Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-148798026-1', 'auto');
    ga('send', 'pageview');
</script>


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://wayofnumbers.com/"><span class=site-name>Way of Numbers</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://wayofnumbers.com
                                    >Home</a>
                                </li>
                                <li ><a href="https://wayofnumbers.com/about-me">About&nbsp;Me</a></li>
                                <li ><a href="https://wayofnumbers.com/categories">Categories</a></li>
                                <li ><a href="https://wayofnumbers.com/tags">Tags</a></li>
                                <li ><a href="https://wayofnumbers.com/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://wayofnumbers.com/search" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://wayofnumbers.com/how-to-port-your-medium-articles-to-personal-blog-with-a-simple-bash-script-4422aa7b9be">
                How to Port Your Medium Articles to Personal Blog with a Simple Bash&nbsp;Script
                <small class="subtitle">
                    ‘Quick and Dirty’ Blogging Automation
                </small>
            </a>
        </h1>
    </header>
</div>

    <span><p style="text-align:right; color:#aaaaaa; ">&nbsp Estimated read time: 6 min.</p></span>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#structure-the-script">Structure the Script</a></li>
<li><a href="#lets-write-the-code">Let’s Write the Code</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<p><img alt="Photo by Annie Spratt on Unsplash" src="https://cdn-images-1.medium.com/max/15904/0*lwNGcCCG8j0H_5mz"/><em>Photo by <a href="https://unsplash.com/@anniespratt?utm_source=medium&amp;utm_medium=referral">Annie Spratt</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral">Unsplash</a></em></p>
<p>Medium is a great publication platform. It has good exposure, quality content, readers that really appreciate good articles and a neat and easy to use <span class="caps">UI</span>. It’s especially great for writers that just start their journey.</p>
<p>As good as it is, having your own blog outside of Medium is still not a bad idea. It enables you to have another channel you can totally own to communicate with your readers. And who knows, no company can last forever, what if Medium got acquired by some other company or something even worse happen. You can still sleep well at night knowing you won’t lose all your articles.</p>
<p>I built <a href="https://wayofnumbers.com/">my own</a> using <a href="https://github.com/getpelican/pelican">Pelican</a>, a Python-based <a href="https://en.wikipedia.org/wiki/Static_web_page">static site generator</a>. I wrote an <a href="https://towardsdatascience.com/my-experience-migrating-my-blog-from-github-pages-to-netlify-92ff6c85fb04">article</a> explaining the whole process. For every Medium article, I need to copy the <span class="caps">URL</span>, run some command to transfer it into Markdown file, then generate the blog site using Pelican. It is simple, but not as simple as I like it to be. So this is a great opportunity for some quick and dirty Bash script to come for the rescue. Let’s see what we can do.</p>
<h2 id="structure-the-script">Structure the Script<a class="headerlink" href="#structure-the-script" title="Permanent link"> </a></h2>
<p>Before start writing the script, it helps to structure out what we want to accomplish, makes it easier to write quality code. Basically, we need to:</p>
<ol>
<li>
<p>Put all article URLs into one text file manually(plan to automate this part too in the future, using some scraping framework maybe)</p>
</li>
<li>
<p>Read every line of the file, and for each line.</p>
</li>
<li>
<p>Extract the title and subtitle</p>
</li>
<li>
<p>Use the title and subtitle to create meta-data needed for Pelican to turn the Markdown file into a post.</p>
</li>
<li>
<p>Run Pelican command to generate the static site.</p>
</li>
<li>
<p>Push the site to GitHub and trigger Netlify’s auto-build</p>
</li>
<li>
<p>Profit.</p>
</li>
</ol>
<h2 id="lets-write-the-code">Let’s Write the Code<a class="headerlink" href="#lets-write-the-code" title="Permanent link"> </a></h2>
<p><img alt="Photo by Shahadat Rahman on Unsplash" src="https://cdn-images-1.medium.com/max/10368/0*wZqyc6jNLf1vwg3o"/><em>Photo by <a href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral">Shahadat Rahman</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral">Unsplash</a></em></p>
<p>First of all, define our variables:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash </span>
<span class="c1"># Define variables</span>
<span class="nv">filename</span><span class="o">=</span><span class="s1">'articles.txt'</span>
<span class="nv">n</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</td></tr></table>
<p>The structure the loop to read every line of the text file:</p>
<div class="highlight"><pre><span></span># Read in file and do processing on each one
while read line; do 
    # reading each line
    n=$((n+1)) 
    slug=$(echo $line | sed 's/https:\/\/towardsdatascience.com\///' )  # get slug from URL 
    FILE="$HOME/wayofnumbers.github.io/content/$slug.md"   # generate Markdown file name from slug 
    mediumexporter $line &gt; $FILE   # convert medium article to markdown file    
    # some processing ...
done &lt; $filename
</pre></div>
<p>We used the sed command to remove the first part of the <span class="caps">URL</span>: <a href="https://towardsdatascience.com/">https://towardsdatascience.com/</a> so the rest could be used as our slug. For example, <a href="https://towardsdatascience.com/9-things-i-learned-from-blogging-on-medium-for-the-first-month-2bace214b814">https://towardsdatascience.com/9-things-i-learned-from-blogging-on-medium-for-the-first-month-2bace214b814</a> turns into <a href="https://towardsdatascience.com/9-things-i-learned-from-blogging-on-medium-for-the-first-month-2bace214b814">9-things-i-learned-from-blogging-on-medium-for-the-first-month-2bace214b814</a>, perfect for a slug. Here we also uses the slug to create the filename for the MarkDown file. Then we use mediumexporter to transfer <span class="caps">URL</span> into the Markdown file. You can find out more about mediumexporter <a href="https://medium.com/@macropus/export-your-medium-posts-to-markdown-b5ccc8cb0050">here</a>.</p>
<p>Now that we have the Markdown file, let’s fill in the processing code we want:</p>
<div class="highlight"><pre><span></span># Processing the markdown file 
    tail -n +2 "$FILE" &gt; "$FILE.tmp" &amp;&amp; mv "$FILE.tmp" "$FILE"  # remove the first line 
    fl=$(head -n 1 $FILE) # put first line (title) into fl 
    firstline=$(echo $fl | sed 's/# //') # Remove '# ' 
    tail -n +3 "$FILE" &gt; "$FILE.tmp" &amp;&amp; mv "$FILE.tmp" "$FILE"  # remove the first line 
    subtitle=$(head -n 1 $FILE) # put first line (subtitle) into subtitle 
    tail -n +2 "$FILE" &gt; "$FILE.tmp" &amp;&amp; mv "$FILE.tmp" "$FILE"  # remove the first two line
</pre></div>
<p>These lines are rather self-explanatory. Now we have firstline variable as the title and subtitle variable as the subtitle, we are now ready to construct the Markdown file meta-data for Pelican:</p>
<div class="highlight"><pre><span></span># handle metadata for Pelican  
meta="
Title: $firstline
Slug: $slug
Subtitle: $subtitle
Date: $(date)
Category: Machine Learning
Tags: Machine Learning, Artificial Intelligence
author: Michael Li
Summary: $firstline
[TOC]
"
</pre></div>
<p>You can refer to Pelican’s document <a href="https://docs.getpelican.com/en/stable/content.html#file-metadata">here</a> for more information about the meta-data format. Simply put, the Markdown file doesn’t need to specifically write the title and subtitle, as long as we specify the title and subtitle field in our meta-data, Pelican will automatically generate them for you in the post, with specific styles per the theme you choose.</p>
<p><img alt="" src="https://cdn-images-1.medium.com/max/2400/0*WUqf8uBnOPArexxL"/></p>
<p>With the correct meta-data, now we can finally update the Markdown and get it ready for site generation:</p>
<div class="highlight"><pre><span></span>{ echo -n "$meta"; cat $FILE; } &gt;$FILE.new # sticth meta-data and article content together 
mv $FILE{.new,} 
head -n -8 $FILE &gt; $FILE.new # Remove medium's recommended articles
mv $FILE{.new,}
done &lt; $filename  # don't forget to enclose the loop.
</pre></div>
<p>All my Medium articles have several recommendations for further readings. I removed those for my blog(the last line of code above). Now that the Markdown file is ready, time to generate the site and push it to the server:</p>
<div class="highlight"><pre><span></span># push to server
cd $HOME/wayofnumbers.github.io
pelican content -s publishconf.py 
git add .
git commit -m "fix"
git push origin dev
</pre></div>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link"> </a></h2>
<p>So there you go. This script only works on Pelican static site generator, but the gist of it can be applied to any of your blogging platforms. I hope you learned a thing or two. And happy blogging/coding!</p>


             
 
            
                <hr />
    <div class="author_blurb">
        <a href="https://medium.com/@lymenlee" target="_blank" rel="nofollow noopener noreferrer">
            <img src=/images/michael.png alt="Michael Li Avatar" title="Michael Li">
            <span class="author_name">Michael Li</span>
        </a>
        is the creator and lead developer of this site.
    </div>

            






            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://wayofnumbers.com/neon-life-your-real-virtual-assistant-for-real-this-time-6de4a52e66c4" title="Previous: NEON.LIFE: Your REAL Virtual Assistant, For Real This Time? - The anatomy and theory-crafting of NEON.LIFE, Samsung’s new ‘Artificial Human’">NEON.LIFE: Your REAL Virtual Assistant, For Real This Time? <small class="subtitle">The anatomy and theory-crafting of NEON.LIFE, Samsung’s new ‘Artificial Human’</small></a></li>
                <li class="next-article"><a href="https://wayofnumbers.com/how-to-extract-knowledge-from-wikipedia-data-science-style-35f50f095d1a" title="Next: How to Extract Knowledge from Wikipedia, Data Science Style - A Brief Introduction to WikiData and SPARQL query language">How to Extract Knowledge from Wikipedia, Data Science Style <small class="subtitle">A Brief Introduction to WikiData and SPARQL query language</small></a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-02-01T20:17:31-06:00">Feb 1, 2020</time>
            <h4>Category</h4>
            <a class="category-link" href="https://wayofnumbers.com/categories#machine-learning-ref">Machine Learning</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://wayofnumbers.com/tags#artificial-intelligence-ref">Artificial Intelligence
                    <span>9</span>
</a></li>
                <li><a href="https://wayofnumbers.com/tags#machine-learning-ref">Machine Learning
                    <span>22</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://twitter.com/lymenlee" title="My Twitter" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://github.com/wayofnumbers" title="GitHub" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="www.linkedin.com/in/michael-li-dfw" title="LinkedIn" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
</div>
            



<!-- Begin MailChimp Signup Form -->
<div id="mc-embed-signup">
<form action="https://github.us17.list-manage.com/subscribe/post?u=c212184cc0965bdf1658f69f0&amp;id=5677a7b75e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
<h4>Get Monthly Updates</h4>
<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Enter your email..." required>
<div class="clear"><input type="submit" value="Send me Free Updates" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
</form>
</div>
<!--End mc_embed_signup-->




            



        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        Content licensed under <a rel="license nofollow noopener noreferrer"
    href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
    Creative Commons Attribution 4.0 International License</a>.
    </div>

    <div>
        <span class="site-name">Way of Numbers</span> - Data science for the rest of us.
    </div>



    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
        Hosted on:
        <a href=https://www.netlify.com/ target="_blank" rel="nofollow noopener noreferrer">
            Netlify
        </a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>